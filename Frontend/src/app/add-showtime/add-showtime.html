<div class="page">
  <header class="header">
    <div>
      <h1>Add showtime</h1>
      <p>Create a new showtime for an existing movie and screen.</p>
    </div>
    <a routerLink="/admin" class="link">‚Üê Back to admin</a>
  </header>

  <div class="card">
    <div *ngIf="error" class="alert alert-error">{{ error }}</div>
    <div *ngIf="message" class="alert alert-success">{{ message }}</div>

    <form (ngSubmit)="submit()">
      <div class="form-grid">
        <label>
          Movie
          <select [(ngModel)]="movieId" name="movieId">
            <option [ngValue]="null">Select movie</option>
            <option *ngFor="let m of movies" [ngValue]="m.id">{{ m.title }}</option>
          </select>
        </label>

        <label>
          Screen
          <select [(ngModel)]="screenId" name="screenId">
            <option [ngValue]="null">Select screen</option>
            <option *ngFor="let s of screens" [ngValue]="s.id">
              {{ s.name }} ({{ s.rows }} x {{ s.seatsPerRow }})
            </option>
          </select>
        </label>

        <label>
          Date
          <input type="date" [(ngModel)]="date" name="date" />
        </label>

        <label>
          Time
          <input type="time" [(ngModel)]="time" name="time" />
        </label>

        <label>
          Base price (DKK)
          <input type="number" [(ngModel)]="basePrice" name="basePrice" min="0" />
        </label>

        <label>
          Language
          <input type="text" [(ngModel)]="language" name="language" />
        </label>

        <label class="checkbox">
          <input type="checkbox" [(ngModel)]="is3D" name="is3D" />
          3D showing
        </label>
      </div>

      <button type="submit" [disabled]="isSubmitting" class="btn">
        {{ isSubmitting ? 'Saving...' : 'Create showtime' }}
      </button>
    </form>
  </div>
</div>
